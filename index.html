<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <title>Dis This: Online Python Disassembler</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />
    <style>
      .cm-editor {
        width: 700px;
        height: auto;
        border: 1px solid #ccc;
      }
      #table-area {
        margin-top: 15px;
        margin-bottom: 12px;
        max-width: 700px;
      }
      #output-area {
        margin-top: 15px;
      }
      footer {
        margin-top: 80px;
      }
    </style>
    <style></style>
  </head>
  <body>
    <div class="container">
      <h1>Disassemble Python code</h1>
      <br/>
      <label>Enable adaptive interpreter?
        <input id="adaptive-checkbox" type="checkbox" checked/>
      </label>
      <br/>
      <label>Python function definition:
        <br />
        <div id="code-area"></div>
      </label><br/>
      <label>Function call:
        <br />
        <input id="call-input" type="text" />
      </label>
      <br />
      <button id="button" type="button" class="btn btn-primary" disabled>
        Disassemble!
      </button>
      <span id="status">Loading Pyodide...</span>

      <div id="output-area">
        <p>Python version: <span id="version-number"></span></p>
        <div id="table-area"></div>
        <div id="permalink-area"></div>
      </div>

      <footer>
        <p>
          Source code on
          <a href="https://github.com/pamelafox/dis-this" target="_blank">
          Github</a>.
          Uses
          <a href="https://pyodide.org/en/stable/" target="_blank">Pyodide</a>,
          <a href="https://docs.python.org/3/library/dis.html" target="_blank">the Python dis module</a>,
          <a href="https://codemirror.net/" target="_blank">CodeMirror</a>,
          and <a href="https://lit.dev/" target="_blank">Lit elements</a>.
          <br />
          Inspired by Anthony Shaw's
          <a href="https://pypi.org/project/instaviz/" target="_blank">Instaviz</a>.
        </p>
      </div>
    </div>
    <!--<script src="https://cdn.jsdelivr.net/pyodide/v0.19.0/full/pyodide.js"></script>-->
    <script src="https://cdn.jsdelivr.net/pyodide/dev/full/pyodide.js"></script>
    <script src="dist/bundle.js"></script>
  </body>
</html>
